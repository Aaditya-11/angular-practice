<app-alert type="primary"></app-alert>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<div>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="form-container">

    <!-- Name Field -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Name</mat-label>
      <input matInput placeholder="Enter your name" formControlName="name">
      <mat-error *ngIf="name?.hasError('required')">Name is required</mat-error>
      <mat-error *ngIf="name?.invalid && (name?.dirty || name?.touched)">
        Please provide a valid name
      </mat-error> 
    </mat-form-field>

    <!-- Password Field -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Password</mat-label>
      <input matInput [type]="hidePassword ? 'password' : 'text'" placeholder="Enter password" formControlName="password">
      <button mat-icon-button matSuffix type="button" (click)="hidePassword = !hidePassword">
        <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error *ngIf="password?.hasError('required')">Password is required</mat-error>
      <mat-error *ngIf="password?.invalid && (password?.dirty || password?.touched)">
        Please provide a valid password
      </mat-error>
    </mat-form-field>

    <!-- Confirm Password Field -->
    <mat-form-field appearance="outline" class="full-width">
    <mat-label>Confirm Password</mat-label>
    <input matInput [type]="hideCPassword ? 'password' : 'text'" placeholder="Confirm password" formControlName="cpassword">
    <button mat-icon-button matSuffix type="button" (click)="hideCPassword = !hideCPassword">
      <mat-icon>{{ hideCPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
    </button>
    <mat-error *ngIf="cpassword?.hasError('required')">Confirm Password is required</mat-error>
    <mat-error *ngIf="userForm?.hasError('passwordMismatch') && (cpassword?.dirty || cpassword?.touched)">
      Passwords do not match
    </mat-error>
  </mat-form-field>

     <mat-form-field appearance="outline" class="full-width">
      <mat-label>Phone</mat-label>
      <input matInput placeholder="Enter your name" formControlName="phone">
      <mat-error *ngIf="phone?.hasError('required')">Phone Number is required</mat-error>
      <mat-error *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)">
        Please provide a valid Phone number
      </mat-error> 
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
    <mat-label>Gender</mat-label>
    <mat-select formControlName="gender" placeholder="Select Gender">
    <mat-option *ngFor="let g of genders" [value]="g">{{ g }}</mat-option>
    </mat-select>
    <mat-error *ngIf="gender?.hasError('required')">Gender is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Date of Birth (YYYY-MM-DD)</mat-label>
      <input matInput placeholder="1998-06-15" formControlName="dob">
    
      <mat-error *ngIf="dob?.hasError('required')">
        Date of Birth is required
      </mat-error>
      <mat-error *ngIf="dob?.hasError('pattern')">
        Please enter date in YYYY-MM-DD format
      </mat-error>
       <mat-error *ngIf="dob?.hasError('underAge') && (dob?.dirty || dob?.touched)">
    You must be at least 18 years old
  </mat-error>
    </mat-form-field>


    <mat-form-field appearance="outline" class="full-width">
    <mat-label>Email</mat-label>
    <input matInput placeholder="Enter your email" formControlName="email">
    <mat-error *ngIf="email?.hasError('required')">Email is required</mat-error>
    <mat-error *ngIf="email?.invalid && (email?.dirty || email?.touched)">
      Please provide a valid email
    </mat-error> 
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
    <mat-label>Address</mat-label>
    <input matInput placeholder="Enter your Address" formControlName="address">
    <mat-error *ngIf="address?.hasError('required')">Address is required</mat-error>
    <mat-error *ngIf="address?.invalid && (address?.dirty || address?.touched)">
      Please provide a valid address
    </mat-error> 
    </mat-form-field>

    

    <!-- Submit -->
    <button mat-raised-button color="primary" type="submit" [disabled]="userForm.invalid">
      Submit
    </button>
    <button mat-raised-button color="secondary" type="reset" >
      Reset
    </button>

  </form>
</div>

</body>
</html>
